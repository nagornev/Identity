# üîê Identity

> **–ö–∞—Å—Ç–æ–º–Ω–∞—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏** —Å –±–µ–∑–æ–ø–∞—Å–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–∞–º–∏ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ –º–µ—Ö–∞–Ω–∏–∑–º–∞–º–∏ –∑–∞—â–∏—Ç—ã RefreshToken —á–µ—Ä–µ–∑ **–∞—Å–∏–º–º–µ—Ç—Ä–∏—á–Ω—ã–µ –∫–ª—é—á–∏ Ed25519**.

---

## üß© –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç:
- üîë **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π;
- üß± **–†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**:
  - **Auth** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, —Ç–æ–∫–µ–Ω–∞–º–∏ –∏ –∫–ª—é—á–∞–º–∏;  
  - **OTP** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã—Ö –∫–æ–¥–æ–≤;  
  - **Notification** ‚Äî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π;  
- üîê **–†–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤** –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏;  
- üîÑ **–ê—Å—Å–∏–º–µ—Ç—Ä–∏—á–Ω—ã–µ –∫–ª—é—á–∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è** —Ç–æ–∫–µ–Ω–æ–≤ —Å –∏—Ö –ø–æ—Å–ª–µ–¥—É—é—â–µ–π —Ä–æ—Ç–∞—Ü–∏–µ–π;
- üõ°Ô∏è **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ RefreshToken** —Å –ø–æ–º–æ—â—å—é —Å–µ–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞ **Ed25519**;  
- üìä **–ê—Å—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∏ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å–±–æ—Ä –ª–æ–≥–æ–≤ –∏ –º–µ—Ç—Ä–∏–∫** —á–µ—Ä–µ–∑ **ElasticSearch** –∏ **Kibana**.

---

## ‚öôÔ∏è –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –∑–∞–ø—É—Å–∫—É

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π [Docker](https://www.docker.com/) –∏ Docker Compose.

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ:**  
> –í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ–±—Ä–∞–∑—ã **ElasticSearch** –∏ **Kibana**, –∫–æ—Ç–æ—Ä—ã–µ **–º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã —Å —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö IP-–∞–¥—Ä–µ—Å–æ–≤**.  
> –î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
> - –í–∫–ª—é—á–∏—Ç—å **VPN**, –∏–ª–∏  
> - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å **–ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤** –≤ —Å–∏—Å—Ç–µ–º–µ Docker.

---

### üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–æ—Ä–Ω–µ–≤—É—é –ø–∞–ø–∫—É –ø—Ä–æ–µ–∫—Ç–∞.  
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:

   ```bash
   docker-compose up -d

‚ö†Ô∏è –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:7000/swagger

### üß≠ –°—Ö–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π


---

### 1Ô∏è‚É£ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

üéØ–ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞: **/api/identity/sign/up**

–ü—Ä–∏–º–µ—Ä:
```
{
  "emailAddress": "test@test.ru",
  "personName": "John",
  "password": "q@kzSq+Kz"
}
```
- emailAddress - –ø–æ—á—Ç–∞ –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è;
- personName - –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è;
- password - –ø–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞.

–†–µ–∑—É–ª—å—Ç–∞—Ç: –ü—Ä–æ–∏–∑–æ–π–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

---

### 2Ô∏è‚É£ –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞

üéØ–ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞: **/sign/up/activate/{token}**

- token - —Ç–æ–∫–µ–Ω, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –ø–æ—á—Ç—É –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∞–∫–∞—É–Ω—Ç–∞ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—è–≤–∏—Ç—Å—è –≤ –ª–æ–≥–∞—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ Notification.

–†–µ–∑—É–ª—å—Ç–∞—Ç: –ü–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∞–∫–∫–∞—É–Ω—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –≤—Ö–æ–¥–∞.

---

### 3Ô∏è‚É£ –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

‚ö†Ô∏è –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Ed25519 –∫–ª—é—á–µ–π.

üéØ–ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞: **/sign/in**

–ü—Ä–∏–º–µ—Ä:
```
{
  "emailAddress": "test@test.ru",
  "password": "q@kzSq+Kz",
  "audience": "auth",
  "publicKey": "n_rfYMEjbh0jjRUsJ4bgq0PFceU6dRgiq1Y3OeVkuUw"
}
```
- emailAddress - –ø–æ—á—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è;
- password - –ø–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞;
- audience - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —É—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤–Ω—É—Ç—Ä–∏ —Å–∏—Å—Ç–µ–º—ã –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∞–Ω–∞–ª–æ–≥–∏–∏ —Å OAuth2, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø—Ä–∞–≤–∞ –≤ —Ä–∞–º–∫–∞—Ö Identity. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º ```auth```;
- publicKey - –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á Ed25519 –≤ —Ñ–æ—Ä–º–∞—Ç–µ base64url.

–û—Ç–≤–µ—Ç:
```
{
  "content": {
    "id": "492fe391-729c-4371-a61a-3487f535f0dd",
    "type": "email",
    "channel": "te***@test.ru",
    "expiresAt": 1760088736
  },
  "success": true
}
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–µ—Ä–Ω–µ—Ç ID –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≤—Ö–æ–¥–∞ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–º, –∫—É–¥–∞ –±—ã–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω OTP –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—è–≤–∏—Ç—Å—è –≤ –ª–æ–≥–∞—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ Notification.

---

### 4Ô∏è‚É£ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤—Ö–æ–¥–∞

üéØ–ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞: **/api/identity/sign/in/confirm**

–ü—Ä–∏–º–µ—Ä:
```
{
  "otpId": "492fe391-729c-4371-a61a-3487f535f0dd",
  "otp": "684482"
}
```

- otpId - ID, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –ø–æ—Å–ª–µ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –≤—Ö–æ–¥;
- otp - –∫–æ–¥ –∏–∑ 6 —Ü–∏—Ñ—Ä, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –ø–æ –≤–æ–∑–º–æ–∂–Ω–æ–º—É –∫–∞–Ω–∞–ª—É —Å–≤—è–∑–∏.

–û—Ç–≤–µ—Ç:
```
{
  "content": {
    "accessToken": "eyJhbGciOiJSUzI1NiIsImtpZCI6ImE3OWM3MmZjLTM4YjMtNDI1Yi1iZmJhLThiZjc5ZjI4NGUxNCIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI4NGFmNTZlZS1iOTQxLTQwZmUtOGUyZS05M2M2ZDg0YjE4ODIiLCJzaSI6ImJkNzRiNDNmLTU1MDItNDk3My04MjVlLTAyY2IyZTljMTVhOSIsImp0aSI6IjM4ODFkZjQ2LTA1ODMtNDdkMi1hYmI2LTBiY2QwOWU0NjFiZCIsInNjb3BlIjoicmVhZDpwcm9maWxlIGVkaXQ6cHJvZmlsZSIsImV4cCI6MTc1OTc4OTczOSwiaXNzIjoiYXV0aCIsImF1ZCI6ImF1dGgifQ.XqOfezgc0S5-1C4LtlNAYEQadsauUAdyzQzC6UZhsHg33XMKZsdEprFh_cCzMg1kvHhvMkbt4lk7POQ28om_mP2bUv9ZcRuBUpgL28EMucVGDKWIfPKGVMhjM9TdhEL94MUId7EJNLj5Z56gcsQjNepJzowoDpOhghGm-M14n8ofyhkyY1L4ETOL33u_k6lFUEdm6FX2v-RK3KG1mAm3lhiPvoiUUm0fLoAXRDs7c1YaCMAofUiQR3amDRRNTUyyYTiYH5ekYzEreStGvwt9OjVUQr6yJ0RpfY2cVI0IcjMcVASMJ79HcrR9qHbFml9Kp-OcY0Rr1PV6atTNKP9rRg",
    "refreshToken": "eyJhbGciOiJSUzI1NiIsImtpZCI6IjI2YmQxOWYyLTBjM2ItNDRhMy05NzY0LTI1YTgwODUyNTZhMyIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI4NGFmNTZlZS1iOTQxLTQwZmUtOGUyZS05M2M2ZDg0YjE4ODIiLCJzaSI6ImJkNzRiNDNmLTU1MDItNDk3My04MjVlLTAyY2IyZTljMTVhOSIsImp0aSI6IjM4ODFkZjQ2LTA1ODMtNDdkMi1hYmI2LTBiY2QwOWU0NjFiZCIsImV4cCI6MTc2MjIwNzkzNiwiaXNzIjoiYXV0aCIsImF1ZCI6ImF1dGgifQ.ej42FnHW-TrbDNmo-1D2HkuAZJ2lwb_dhHRVE3x2ptKV4ueSQ2bdyNtRDx82w2psN0_hJiQ7_qD2TS6bCT_URd5vfMEupzDbnX69xGFIfp4_nyE9YcluPnvIodYop-gUt9JcykNqQhHdsWAyTxERffWQorSSx-hfr-OMcHHJKfztUs4HKutOBndag_5QwTHe2DyT5Y6pJJRPJIzDZcGvoq6pzB9wig1hVv7o2u8C5GBtaFbT6qcw1i0AP6XNbf4atQHxvxyD8ZO7EvpD1Ggxnb5X6WqXgzCjc2cfqL0FWGNbn5g5IsTBvBqljHixP96Svpc5qs5Rtycsgz_VRUPgRQ"
  },
  "success": true
}
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: AccessToken + RefreshToken

---


### 5Ô∏è‚É£ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä—ã —Ç–æ–∫–µ–Ω–æ–≤

‚ö†Ô∏è –ó–∞–ø—Ä–æ—Å –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏–≤–∞—Ç–Ω—ã–º –∫–ª—é—á–æ–º Ed25519.

üéØ–ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞: **/api/identity/token/refresh**

–ü—Ä–∏–º–µ—Ä:
```
{
  "refreshToken": "eyJhbGciOiJSUzI1NiIsImtpZCI6IjI2YmQxOWYyLTBjM2ItNDRhMy05NzY0LTI1YTgwODUyNTZhMyIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI4NGFmNTZlZS1iOTQxLTQwZmUtOGUyZS05M2M2ZDg0YjE4ODIiLCJzaSI6ImJkNzRiNDNmLTU1MDItNDk3My04MjVlLTAyY2IyZTljMTVhOSIsImp0aSI6IjM4ODFkZjQ2LTA1ODMtNDdkMi1hYmI2LTBiY2QwOWU0NjFiZCIsImV4cCI6MTc2MjIwNzkzNiwiaXNzIjoiYXV0aCIsImF1ZCI6ImF1dGgifQ.ej42FnHW-TrbDNmo-1D2HkuAZJ2lwb_dhHRVE3x2ptKV4ueSQ2bdyNtRDx82w2psN0_hJiQ7_qD2TS6bCT_URd5vfMEupzDbnX69xGFIfp4_nyE9YcluPnvIodYop-gUt9JcykNqQhHdsWAyTxERffWQorSSx-hfr-OMcHHJKfztUs4HKutOBndag_5QwTHe2DyT5Y6pJJRPJIzDZcGvoq6pzB9wig1hVv7o2u8C5GBtaFbT6qcw1i0AP6XNbf4atQHxvxyD8ZO7EvpD1Ggxnb5X6WqXgzCjc2cfqL0FWGNbn5g5IsTBvBqljHixP96Svpc5qs5Rtycsgz_VRUPgRQ",
  "newPublicKey": "hNEoAqtFeHdiLDikeyATYj9RIcyWFRhHiyRRSO0lwtA",
  "timestamp": 1759789522,
  "signature": "Ostpeu6w_U_p48EQh8yGyBngqcZWNiyK99LibC6V_BGpLFgbdKZoxRYJodZBTA_jaQpFrFVRfMEfOZ14KxzOAQ"
}
```

- refreshToken - —Ç–æ–∫–µ–Ω –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è;
- newPublicKey - –Ω–æ–≤—ã–π –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—Å—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∏ –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π —Ä–æ—Ç–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤;
- timestamp - —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞–ø—Ä–æ—Å–∞ (UTC);
- signature - –ø–æ–¥–ø–∏—Å—å refreshToken+newPublicKey+timestamp —Å–µ–∫—Ä–µ—Ç–Ω—ã–º –∫–ª—é—á–æ–º, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª —Å–æ–∑–¥–∞–Ω –≤ –ø–∞—Ä–µ —Å –ø—É–±–ª–∏—á–Ω—ã–º –∫–ª—é—á–µ–º –¥–ª—è –≤—Ö–æ–¥–∞ –∏–ª–∏ –ø—Ä–æ—à–ª–æ–π —Ä–æ—Ç–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤.

–†–µ–∑—É–ª—å—Ç–∞—Ç: AccessToken + RefreshToken

---


### 6Ô∏è‚É£ –°–º–µ–Ω–∞ –ø–æ—á—Ç—ã

üéØ–ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞: **/api/identity/change/email/request**

–ü—Ä–∏–º–µ—Ä:
```
{
  "newEmailAddress": "test_updated@test.ru"
}
```

- newEmailAddress - –Ω–æ–≤–∞—è –ø–æ—á—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

–û—Ç–≤–µ—Ç:
```
{
  "content": {
    "id": "1dd3a0dd-7e80-4c34-aa1b-30caefdeae8c",
    "type": "email",
    "channel": "te***@test.ru",
    "expiresAt": 1760090013
  },
  "success": true
}
```

üéØ–ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞: **/api/identity/change/email/confirm**

–ü—Ä–∏–º–µ—Ä:
```
{
  "otpId": "1dd3a0dd-7e80-4c34-aa1b-30caefdeae8c",
  "otp": "710806"
}
```

- otpId - ID, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –ø–æ—Å–ª–µ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Å–º–µ–Ω—É –ø–æ—á—Ç—ã;
- otp - –∫–æ–¥ –∏–∑ 6 —Ü–∏—Ñ—Ä, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –ø–æ –≤–æ–∑–º–æ–∂–Ω–æ–º—É –∫–∞–Ω–∞–ª—É —Å–≤—è–∑–∏.

üéØ–ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞: **/api/identity/change/email/update/{token}**

- token - —Ç–æ–∫–µ–Ω, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ –Ω–æ–≤—É—é –ø–æ—á—Ç—É –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—è–≤–∏—Ç—Å—è –≤ –ª–æ–≥–∞—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ Notification.

–†–µ–∑—É–ª—å—Ç–∞—Ç: –û–±–Ω–æ–≤–∏—Ç—Å—è –ø–æ—á—Ç–∞ –∞–∫–∞—É–Ω—Ç–∞.

---

### 7Ô∏è‚É£ –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è

üéØ–ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞: **/api/identity/change/password/request**

–ü—Ä–∏–º–µ—Ä:
```
{
  "oldPassword": "q@kzSq+Kz",
  "newPassword": "q@kzSq+Kz!"
}
```

- oldPassword - —Å—Ç–∞—Ä—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è –≤—Ö–æ–¥–∞;
- newPassword - –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å.

–û—Ç–≤–µ—Ç:
```
{
  "content": {
    "id": "de9aa491-db39-4c23-8a46-b92cf23b0c44",
    "type": "email",
    "channel": "te***@test.ru",
    "expiresAt": 1760091048
  },
  "success": true
}
```

üéØ–ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞: **/api/identity/change/password/confirm**

–ü—Ä–∏–º–µ—Ä:
```
{
  "otpId": "de9aa491-db39-4c23-8a46-b92cf23b0c44",
  "otp": "624140"
}
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç —Å–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã—Ö–æ–¥ –∏–∑ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π.

---

### 8Ô∏è‚É£ –í—ã—Ö–æ–¥ –∏–∑ —Å–µ—Å—Å–∏–∏

‚ö†Ô∏è –£ –¥–∞–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –Ω–µ—Ç –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –æ—Ç–∑—ã–≤–∞ AccessToken. –í—ã—Ö–æ–¥—è –∏–∑ —Å–µ—Å—Å–∏–∏ - –í—ã –∑–∞–∫—Ä—ã–≤–∞–µ—Ç–µ —Ç–æ–ª—å–∫–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤. 
–ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ —Ç–∞–∫–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å, —Ç–æ –µ—ë –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ –¥–æ–º–µ–Ω–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ –∑–∞–∫—Ä—ã—Ç–∏—è —Å–µ—Å—Å–∏–∏ –∏ —Ö—Ä–∞–Ω–µ–Ω–Ω–∏—è ID —Å–µ—Å—Å–∏–∏ –≤ —á–µ—Ä–Ω–æ–º —Å–ø–∏—Å–∫–µ –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –±–∞–∑–µ –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞ –∂–∏–∑–Ω–∏ —Ç–æ–∫–µ–Ω–∞.

üéØ–ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞: **/api/identity/logout**

–†–µ–∑—É–ª—å—Ç–∞—Ç: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏.

---

### 9Ô∏è‚É£ –í—ã—Ö–æ–¥ –∏–∑ –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π

üéØ–ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞: **/api/identity/logout/all**

–†–µ–∑—É–ª—å—Ç–∞—Ç: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π.
